[{"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/index.js":"1","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/App.js":"2","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Page/SignIn.js":"3","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/userContext/useUser.js":"4","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Home/Home.js":"5","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/provider/authProvider.js":"6","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/Reminder.js":"7","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MenuItem/MenuNav.js":"8","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultiStepForm/FormDetail/SignUp.js":"9","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultiStepForm/FormDetail/PictureProfile.js":"10","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultiStepForm/FormDetail/Welcome.js":"11","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/SideBar.js":"12","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/MultistepForm.js":"13","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/FormDetail/Welcome.js":"14","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/FormDetail/SignUp.js":"15","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/FormDetail/PictureProfile.js":"16","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Feed/Feed.js":"17","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Feed/Post.js":"18","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Feed/PostForm.js":"19","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/Category.js":"20","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/SubCategory.js":"21"},{"size":230,"mtime":1608581568862,"results":"22","hashOfConfig":"23"},{"size":585,"mtime":1611270464631,"results":"24","hashOfConfig":"23"},{"size":2812,"mtime":1609987163350,"results":"25","hashOfConfig":"23"},{"size":1007,"mtime":1611271134676,"results":"26","hashOfConfig":"23"},{"size":1568,"mtime":1610413588796,"results":"27","hashOfConfig":"23"},{"size":523,"mtime":1611270926869,"results":"28","hashOfConfig":"23"},{"size":1225,"mtime":1608581568861,"results":"29","hashOfConfig":"23"},{"size":1340,"mtime":1610414074949,"results":"30","hashOfConfig":"23"},{"size":3559,"mtime":1608581568860,"results":"31","hashOfConfig":"23"},{"size":2136,"mtime":1608581568859,"results":"32","hashOfConfig":"23"},{"size":1404,"mtime":1608581568860,"results":"33","hashOfConfig":"23"},{"size":4818,"mtime":1611278988597,"results":"34","hashOfConfig":"23"},{"size":1968,"mtime":1609289918955,"results":"35","hashOfConfig":"23"},{"size":1356,"mtime":1608773789825,"results":"36","hashOfConfig":"23"},{"size":2534,"mtime":1609289878711,"results":"37","hashOfConfig":"23"},{"size":3261,"mtime":1609454420925,"results":"38","hashOfConfig":"23"},{"size":4377,"mtime":1611328546924,"results":"39","hashOfConfig":"23"},{"size":3342,"mtime":1611196544301,"results":"40","hashOfConfig":"23"},{"size":7280,"mtime":1610402183876,"results":"41","hashOfConfig":"23"},{"size":2779,"mtime":1609984035891,"results":"42","hashOfConfig":"23"},{"size":987,"mtime":1610072102805,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"5ppufw",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/index.js",[],["93","94"],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/App.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Page/SignIn.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/userContext/useUser.js",["95"],"import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport AuthProvider from \"../provider/authProvider\";\n\nfunction getCurrentUser(token) {\n  const userDecoded = jwt.decode(token);\n  return userDecoded;\n}\n\nconst UserContext = createContext({\n  user: null,\n  token: null,\n});\n\nexport function UserProvider({ children }) {\n  const getToken = AuthProvider.provider.token;\n  const [token, setToken] = useState(getToken);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    if (!user && token) {\n      const user = getCurrentUser(token);\n      AuthProvider.provider.token = token;\n      setUser(user);\n    } else if (!token) {\n      AuthProvider.provider.logout();\n      setUser(null);\n      // window.location.reload();\n    }\n  }, [token]);\n\n  return (\n    <UserContext.Provider value={{ user, token, setToken }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\nconst useUser = () => useContext(UserContext);\n\nexport default useUser;\n","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Home/Home.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/provider/authProvider.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/Reminder.js",[],["96","97"],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MenuItem/MenuNav.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultiStepForm/FormDetail/SignUp.js",["98"],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultiStepForm/FormDetail/PictureProfile.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultiStepForm/FormDetail/Welcome.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/SideBar.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/MultistepForm.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/FormDetail/Welcome.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/FormDetail/SignUp.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/MultistepForm/FormDetail/PictureProfile.js",["99"],"import React, { useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    backgroundColor: \"#F5AB7C\",\n    position: \"absolute\",\n    top: \"0\",\n    bottom: \"0\",\n    right: \"0\",\n    left: \"0\",\n  },\n  avatar: {\n    padding: \"0\",\n    margin: \"0 auto\",\n    width: \"270px\",\n    height: \"270px\",\n    color: \"#F5AB7C\",\n    cursor: \"pointer\",\n  },\n  message: {\n    padding: \"33px\",\n    margin: theme.spacing(0, 25, 0, 25),\n    color: \"#827F7F\",\n  },\n  button: {\n    position: \"relative\",\n    bottom: \"100px\",\n    border: \"10px solid #F5AB7C\",\n    borderRadius: \"50px\",\n    backgroundColor: \"#fff\",\n    \"&:hover\": {\n      backgroundColor: \"#fff\",\n    },\n    fontSize: \"25px\",\n    color: \"#6DB5FD\",\n    margin: theme.spacing(0, 1, 0, 1),\n    width: \"200px\",\n  },\n  form: {\n    backgroundColor: \"#fff\",\n    margin: theme.spacing(15, 50, 8, 50),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: \"50px\",\n    minWidth: \"500px\",\n    minHeight: \"600px\",\n  },\n}));\n\nconst Span = styled.span`\n  margin: 0px;\n  padding-bottom: 50px;\n  cursor: pointer;\n  padding: 0px;\n`;\n\nexport default function PictureProfile({ nextStep, prevStep }) {\n  const classes = useStyles();\n  const [file, setFile] = useState();\n  const [uploadFile, setUploadFile] = useState({});\n\n  const forward = e => {\n    e.preventDefault();\n    nextStep();\n  };\n\n  const back = e => {\n    e.preventDefault();\n    prevStep();\n  };\n\n  const onAvatarSubmit = async e => {\n    e.preventDefault();\n\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      const res = axios.post(\n        \"http://localhost:5000/api/auth/user/upload\",\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      const { fileName, filePath } = res.data;\n\n      setUploadFile({ fileName, filePath });\n    } catch (error) {\n      if (error.response.status === 500) {\n        console.log(\"Server Error\");\n      } else {\n        console.log(\"No files uploaded\");\n      }\n    }\n\n    nextStep();\n  };\n\n  const onChangeImage = e => {\n    setFile(e.target.files[0]);\n  };\n\n  return (\n    <div className={classes.wrapper}>\n      <form className={classes.form} onSubmit={onAvatarSubmit}>\n        <Typography variant=\"h5\" className={classes.message}>\n          Time for an upload! <br />\n          We recommend a nice headshot so everyone can see who you are!\n        </Typography>\n        <AccountCircleIcon className={classes.avatar} />\n        <input\n          type=\"file\"\n          name=\"avatar\"\n          id=\"avatar\"\n          accept=\".jpg, .png, .jpg\"\n          onChange={onChangeImage}\n        />\n        <Span onClick={forward} className={classes.skip}>\n          Skip for now\n        </Span>\n        <Button onClick={back}>Back</Button>\n        <Button type=\"submit\">Submit</Button>\n      </form>\n    </div>\n  );\n}\n","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Feed/Feed.js",["100","101","102","103"],"import React, { useState, useEffect } from \"react\";\nimport SideBar from \"../SideBar/SideBar\";\nimport { Grid, Divider, Button } from \"@material-ui/core/\";\nimport Post from \"./Post\";\nimport PostForm from \"./PostForm\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport useUser from \"../../userContext/useUser\";\nimport MenuNav from \"../MenuItem/MenuNav\";\nimport { navigate } from \"@reach/router\";\n\nconst useStyles = makeStyles(theme => ({\n  reminder: {\n    position: \"relative\",\n    left: \"20px\",\n    bottom: \"10px\",\n  },\n  divider: {\n    marginLeft: \"55px\",\n  },\n  menu: {\n    flexDirection: \"row-reverse\",\n    width: \"100%\",\n    position: \"relative\",\n    left: \"1200px\",\n  },\n}));\n\nexport default function Feed() {\n  const classes = useStyles();\n  const [posts, setPosts] = useState([]);\n  const [refreshPost, setRefreshPost] = useState(true);\n  const [userSubs, setUserSubs] = useState([]);\n  const { token, user } = useUser();\n  if (!user) navigate(\"/signin\");\n\n  //add new post\n  const addPost = async form => {\n    console.log(form);\n    await axios\n      .post(\n        \"http://localhost:5000/api/post\",\n        {\n          content: form.content,\n          title: form.title,\n          limit: parseInt(form.limit),\n          location: form.location,\n          category: form.category,\n          service: form.service,\n          time: form.time,\n          date: form.date,\n        },\n        { headers: { \"x-auth-token\": token } }\n      )\n      .then(() => {\n        setRefreshPost(!refreshPost);\n      })\n      .catch(er => console.warn(er));\n  };\n\n  //get posts\n  useEffect(async () => {\n    let result = await axios.get(\"http://localhost:5000/api/user\", {\n      headers: { \"x-auth-token\": token },\n    });\n\n    let userData = result.data;\n\n    let filterUser = userData.find(currentUser => {\n      if (currentUser._id === user._id) {\n        return true;\n      } else if (currentUser._id !== user._id) {\n        return false;\n      }\n    });\n\n    setUserSubs(filterUser.subscriptions);\n    axios\n      .get(\"http://localhost:5000/api/post\", {\n        headers: { \"x-auth-token\": token },\n      })\n      .then(({ data }) => {\n        let subscribedCategory = filterUser.subscriptions;\n\n        let filterPosts = data.filter(post => {\n          if (subscribedCategory.includes(post.category)) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n        setPosts(filterPosts);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [refreshPost]);\n\n  //get categories\n  const getCategory = categoryId => {\n    axios\n      .get(`http://localhost:5000/api/post/category/${categoryId}`, {\n        headers: { \"x-auth-token\": token },\n      })\n      .then(res => {\n        setPosts(res.data);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  //subscribing to categories\n  const subscribe = async category => {\n    await axios\n      .put(\n        \"http://localhost:5000/api/user/subscribe\",\n        { subscriptions: category },\n        {\n          headers: { \"x-auth-token\": token },\n        }\n      )\n      .then(res => {\n        console.log(res.data);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  //remove subscribes\n  const unsubscribe = async category => {\n    await axios.delete(\"http://localhost:5000/api/user/subscriptions\");\n  };\n\n  //TODO filter post\n  // const filter = posts.filter();\n\n  return (\n    user && (\n      <div>\n        <Grid container display=\"flex\">\n          <Grid item className={classes.menu}>\n            <MenuNav />\n          </Grid>\n          <Grid item>\n            <SideBar\n              categoryHandler={getCategory}\n              subscribe={subscribe}\n              userSubs={userSubs}\n            />\n          </Grid>\n          <Grid>\n            <Grid item>\n              <PostForm onPostSubmit={addPost} {...posts} />\n            </Grid>\n            <Grid>\n              <Button value=\"Clear\">Clear</Button>\n              <Button value=\"New\">New</Button>\n              <Button value=\"Limit\">Limit</Button>\n            </Grid>\n            <Divider className={classes.divider} />\n            <Grid item>\n              {posts.map(post => (\n                <Post key={post._id} {...post} />\n              ))}\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    )\n  );\n}\n","/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Feed/Post.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/Feed/PostForm.js",[],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/Category.js",[],["104","105"],"/Users/chiayengxiong/Desktop/git/Sofofiling/client/src/components/SideBar/SubCategory.js",[],["106","107"],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":30,"column":6,"nodeType":"114","endLine":30,"endColumn":13,"suggestions":"115"},{"ruleId":"108","replacedBy":"116"},{"ruleId":"110","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":63,"column":9,"nodeType":"120","messageId":"121","endLine":63,"endColumn":16},{"ruleId":"118","severity":1,"message":"122","line":68,"column":10,"nodeType":"120","messageId":"121","endLine":68,"endColumn":20},{"ruleId":"112","severity":1,"message":"123","line":62,"column":13,"nodeType":"124","endLine":97,"endColumn":4},{"ruleId":"125","severity":1,"message":"126","line":69,"column":48,"nodeType":"124","messageId":"127","endLine":69,"endColumn":50},{"ruleId":"112","severity":1,"message":"128","line":97,"column":6,"nodeType":"114","endLine":97,"endColumn":19,"suggestions":"129"},{"ruleId":"118","severity":1,"message":"130","line":132,"column":9,"nodeType":"120","messageId":"121","endLine":132,"endColumn":20},{"ruleId":"108","replacedBy":"131"},{"ruleId":"110","replacedBy":"132"},{"ruleId":"108","replacedBy":"133"},{"ruleId":"110","replacedBy":"134"},"no-native-reassign",["135"],"no-negated-in-lhs",["136"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.","ArrayExpression",["137"],["135"],["136"],"no-unused-vars","'forward' is assigned a value but never used.","Identifier","unusedVar","'uploadFile' is assigned a value but never used.","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","array-callback-return","Array.prototype.find() expects a value to be returned at the end of arrow function.","expectedAtEnd","React Hook useEffect has missing dependencies: 'token' and 'user._id'. Either include them or remove the dependency array.",["138"],"'unsubscribe' is assigned a value but never used.",["135"],["136"],["135"],["136"],"no-global-assign","no-unsafe-negation",{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},"Update the dependencies array to be: [token, user]",{"range":"143","text":"144"},"Update the dependencies array to be: [refreshPost, token, user._id]",{"range":"145","text":"146"},[800,807],"[token, user]",[2537,2550],"[refreshPost, token, user._id]"]